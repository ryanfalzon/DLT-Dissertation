[XAll()]
public class User : XModel
{
	[XOffChain()]
	public int Id;
	
	[XOnChain("Ethereum")]
	public string PublicKey;
	
	[XOnChain("Ethereum")]
	public string Hash;
	
	[XOffChain()]
	public string FirstName;
	
	[XOffChain()]
	public string LastName;
	
	[XOffChain()]
	public string Email;
	
	[XOffChain()]
	public int Mobile;
	
	[XOffChain()]
	public string Description;
}

[XAll()]
public class SocialNetwork
{
	[XOnChain("Ethereum")]
	public const int FEE = 1;

	[XOffChain()]
	public void CreateProfile(User user){
		Assert(user.IsNotNull());

		user.Hash = BlockchainTools.Hash(user);
		@XOnChain("Ethereum", user)
		{
			Assert(Tx.user.balance >= FEE);
			Store(user);
			Tx.user.balance -= FEE;
		}
		
		Store(profile);
	}
}